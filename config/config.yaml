runtime:
  log_level: "INFO"
  checkpoints_dir: "logs/checkpoints"
  enable_checkpointing: true
  max_checkpoint_age_hours: 24

engines:
  hedge:
    gamma_squeeze_threshold: 1500000
    vanna_flow_threshold: 800000
    pin_threshold: 75000
    max_chain_size: 4000
  liquidity:
    lookback: 30
    intraday_minutes: 60
    thin_threshold: 0.001
    high_threshold: 0.0001
    one_sided_threshold: 0.6
  sentiment:
    bullish_threshold: 0.3
    bearish_threshold: 0.3
    lookback_hours: 24
  elasticity:
    lookback: 30
    baseline_move_cost: 1.0

lookahead:
  horizons: [1, 5, 20]
  scenarios: ["base", "stress", "euphoria"]
  monte_carlo_sims: 500

tracking:
  ledger_path: "data/ledger.jsonl"

feedback:
  reward_metric: "sharpe"
  learning_rate: 0.2
  window_size: 100

security:
  enable_guardrails: true

memory:
  short_term_max_items: 100
  long_term_max_items: 1000

agents:
  hedge:
    enabled: true
    confidence_threshold: 0.5
  liquidity:
    enabled: true
    confidence_threshold: 0.5
  sentiment:
    enabled: true
    confidence_threshold: 0.5
  composer:
    voting_method: "weighted_confidence"
    min_agreement_score: 0.6
    weights:
      primary_hedge: 1.0
      primary_liquidity: 1.0
      primary_sentiment: 1.0
  trade:
    min_confidence: 0.5
    max_capital_per_trade: 10000.0
    risk_per_unit: 500.0
    max_legs: 4

execution:
  broker: "alpaca_paper"
  mode: "paper"
  risk_per_trade_pct: 1.0
  max_position_size_pct: 2.0
  max_daily_loss_usd: 5000.0
  loop_interval_seconds: 60
  enable_trading: true
  
  # Options trading configuration
  use_options: true
  options:
    enabled: true
    default_dte_min: 7
    default_dte_max: 45
    max_legs_per_order: 4
    max_positions: 5
    max_total_legs: 10
    
    # Risk parameters
    risk_per_trade_pct: 1.5
    max_portfolio_options_pct: 20.0
    max_loss_per_trade: 500.0
    
    # Delta targets for strike selection
    delta_targets:
      deep_itm: 0.80
      itm: 0.70
      itm_near: 0.60
      atm: 0.50
      otm_near: 0.30
      otm: 0.25
      otm_far: 0.16
    
    # Strategy preferences
    prefer_defined_risk: true
    allow_naked_options: false  # Only in paper mode
    allow_aggressive_strategies: true
    
    # IV thresholds
    high_iv_threshold: 70
    low_iv_threshold: 30

adapters: {}
